# Docker image for CI testing of the DEEPaaS API
# Note there is probably no gpu in the CI server
ARG tag=1.14.0-py3
FROM tensorflow/tensorflow:${tag}
RUN apt-get update && \
    apt-get install -y gdal-bin python3-gdal libgdal-dev && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*
RUN pip3 install --no-cache-dir --upgrade pip "setuptools<58"   wheel
RUN pip3 install --no-cache-dir tox
CMD ["sleep", "infinity"]
